@inject NavigationManager nav
@inject SigninUser signin
@code 
{
    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        nav.LocationChanged += (sender, evt) =>
        {          
            if (signin.IsSignin())
            {
                try
                {
                    signin.UpdateUrlLocation(nav.Uri);
                }
                catch (Exception ex)
                {
                    this.Error("Ошибка обновления URL: " + ex.Message);
                }
            }
            StateHasChanged();
        };
    }
}
