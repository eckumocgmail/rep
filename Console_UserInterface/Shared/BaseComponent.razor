@inherits LayoutComponentBase
@code 
{
    [Parameter]
    public virtual RenderFragment ChildContent { get; set; }
    public Dictionary<string, List<string>> ValidationErrors { get; set; }
    public string UserMessage { get; set; }

    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        this.ValidationErrors = this.Validate();
        this.EnsureIsValide();
    }
    protected bool IsValid() => this.ValidationErrors.Where(kv => kv.Value.Count() > 0).Count() == 0;
}
<div>
    @if (IsValid())
    {
        <div>@Body</div>
    }
    else
    {
        <ValidationErrorsView Model="ValidationErrors" Name="GetType().GetTypeName()"></ValidationErrorsView>
    }   
    
</div>
